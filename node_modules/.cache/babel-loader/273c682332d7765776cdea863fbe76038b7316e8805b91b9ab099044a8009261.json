{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/user/Documents/GitHub/NEw/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _objectSpread from\"C:/Users/user/Documents/GitHub/NEw/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";var _templateObject,_templateObject2;import React,{useEffect,useContext}from'react';import{Button}from'@mui/material';import styled from'styled-components';import CircularProgressWithLabel from'./CircularProgressWithLabel';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var redStyle={backgroundColor:\"rgb(224 74 74)\",border:\"3px solid rgb(224 74 74)\"};var normalStyle={backgroundColor:\"#262421\",border:\"3px solid #262421\"};var styles={normal:normalStyle,red:redStyle};function Timer(props){var context=useContext(props.context);var exercise=useContext(props.exercise);useEffect(function(){var interval=null;if(context.timer.timeIsActive){interval=setInterval(function(){context.setTimerState(_objectSpread(_objectSpread({},context.timer),{},{time:context.timer.time+100}));},100);}else if(!context.timer.timeIsActive&&context.timer.time!==0){clearInterval(interval);}return function(){return clearInterval(interval);};},[context,context.timer.timeIsActive,context.timer.time]);return/*#__PURE__*/_jsx(CircularProgressWithLabel,{value:getPercentage(exercise.squaresCount),children:/*#__PURE__*/_jsxs(CenterContainer,{style:styles[context.timerStyle],children:[/*#__PURE__*/_jsx(DisplayTimer,{children:timeToMsms(context.timer.time)}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:function onClick(){return context.setTimer(\"resetAll\");},children:\"\\u041F\\u0435\\u0440\\u0435\\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430\"})]})});}function getPercentage(object){return Math.floor(object.squaresDone*100/object.squaresToGo);}function timeToMsms(time){// put ms in one digit\nvar ms=time%1000;time=(time-ms)/1000;var secs=time%60;var mins=(time-secs)/60;// fill with zeros\nsecs=secs.toString().padStart(2,'0');if(time<60){return\"\".concat(mins,\":\").concat(secs,\".\").concat(Math.floor(ms/100));}return\"\".concat(mins,\":\").concat(secs);}export default Timer;var CenterContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    justify-content: center;\\n    padding: 20px;\\n    width: 123px;\\n    height: 123px;\\n    border-radius: 50%;\\n\"])));var DisplayTimer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    font-size: 2em;\\n    font-weight: bold;\\n    margin-bottom: 15px;\\n\"])));","map":{"version":3,"names":["React","useEffect","useContext","Button","styled","CircularProgressWithLabel","redStyle","backgroundColor","border","normalStyle","styles","normal","red","Timer","props","context","exercise","interval","timer","timeIsActive","setInterval","setTimerState","time","clearInterval","getPercentage","squaresCount","timerStyle","timeToMsms","setTimer","object","Math","floor","squaresDone","squaresToGo","ms","secs","mins","toString","padStart","CenterContainer","div","DisplayTimer"],"sources":["C:/Users/user/Documents/GitHub/NEw/src/components/Timer.js"],"sourcesContent":["import React, { useEffect, useContext } from 'react';\nimport { Button } from '@mui/material';\nimport styled from 'styled-components';\nimport CircularProgressWithLabel from './CircularProgressWithLabel';\n\n\nconst redStyle = {\n    backgroundColor: \"rgb(224 74 74)\",\n    border:\"3px solid rgb(224 74 74)\",\n  };\n  \nconst normalStyle = {\n    backgroundColor: \"#262421\",\n    border:\"3px solid #262421\",\n\n}\n\nconst styles = {\n    normal: normalStyle,\n    red: redStyle,\n}\n  \n\nfunction Timer(props) {\n    const context = useContext(props.context);\n    const exercise = useContext(props.exercise);\n\n    useEffect(() => {\n        let interval = null;\n        if (context.timer.timeIsActive) {\n            interval = setInterval(() => {\n                context.setTimerState({...context.timer, time: context.timer.time + 100});\n            }, 100);\n        } else if (!context.timer.timeIsActive && context.timer.time !== 0) {\n            clearInterval(interval);\n        }\n        return () => clearInterval(interval);\n    }, [context, context.timer.timeIsActive, context.timer.time]);\n    \n\n    return (\n        <CircularProgressWithLabel value={getPercentage(exercise.squaresCount)}>\n            <CenterContainer style={styles[context.timerStyle]}>\n                <DisplayTimer>{timeToMsms(context.timer.time)}</DisplayTimer>\n                <Button variant=\"outlined\" onClick={() => context.setTimer(\"resetAll\")}>Перезагрузка</Button>\n            </CenterContainer>\n        </CircularProgressWithLabel>\n    );\n}\n\nfunction getPercentage(object) {\n    return Math.floor((object.squaresDone * 100) / object.squaresToGo);\n}\n\n\nfunction timeToMsms(time) {\n    // put ms in one digit\n    let ms = time % 1000;\n    time = (time - ms) / 1000;\n    let secs = time % 60;\n    let mins = (time - secs) / 60;\n    // fill with zeros\n    secs = secs.toString().padStart(2, '0');\n    if (time < 60){\n        return `${mins}:${secs}.${Math.floor(ms/100)}`;\n    }\n    return `${mins}:${secs}`;\n}\n\nexport default Timer;\n\n\n\nconst CenterContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 20px;\n    width: 123px;\n    height: 123px;\n    border-radius: 50%;\n`;\n\nconst DisplayTimer = styled.div`\n    font-size: 2em;\n    font-weight: bold;\n    margin-bottom: 15px;\n`;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}