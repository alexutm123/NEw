{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\Chess-Knight-Exercises-main\\\\src\\\\components\\\\Timer.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useContext } from 'react';\nimport { Button } from '@mui/material';\nimport styled from 'styled-components';\nimport CircularProgressWithLabel from './CircularProgressWithLabel';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst redStyle = {\n  backgroundColor: \"#769656\",\n  border: \"3px solid rgb(224 74 74)\"\n};\nconst normalStyle = {\n  backgroundColor: \"#262421\",\n  border: \"3px solid #262421\"\n};\nconst styles = {\n  normal: normalStyle,\n  red: redStyle\n};\nfunction Timer(props) {\n  _s();\n  const context = useContext(props.context);\n  const exercise = useContext(props.exercise);\n  useEffect(() => {\n    let interval = null;\n    if (context.timer.timeIsActive) {\n      interval = setInterval(() => {\n        context.setTimerState({\n          ...context.timer,\n          time: context.timer.time + 100\n        });\n      }, 100);\n    } else if (!context.timer.timeIsActive && context.timer.time !== 0) {\n      clearInterval(interval);\n    }\n    return () => clearInterval(interval);\n  }, [context, context.timer.timeIsActive, context.timer.time]);\n  return /*#__PURE__*/_jsxDEV(CircularProgressWithLabel, {\n    value: getPercentage(exercise.squaresCount),\n    children: /*#__PURE__*/_jsxDEV(CenterContainer, {\n      style: styles[context.timerStyle],\n      children: [/*#__PURE__*/_jsxDEV(DisplayTimer, {\n        children: timeToMsms(context.timer.time)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        onClick: () => context.setTimer(\"resetAll\"),\n        children: \"\\u041F\\u0435\\u0440\\u0435\\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n}\n_s(Timer, \"zGO2x13BviEUaJ3QHOLOh/9i8Tw=\");\n_c = Timer;\nfunction getPercentage(object) {\n  return Math.floor(object.squaresDone * 100 / object.squaresToGo);\n}\nfunction timeToMsms(time) {\n  // put ms in one digit\n  let ms = time % 1000;\n  time = (time - ms) / 1000;\n  let secs = time % 60;\n  let mins = (time - secs) / 60;\n  // fill with zeros\n  secs = secs.toString().padStart(2, '0');\n  if (time < 60) {\n    return `${mins}:${secs}.${Math.floor(ms / 100)}`;\n  }\n  return `${mins}:${secs}`;\n}\nexport default Timer;\nconst CenterContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 20px;\n    width: 123px;\n    height: 123px;\n    border-radius: 50%;\n`;\n_c2 = CenterContainer;\nconst DisplayTimer = styled.div`\n    font-size: 2em;\n    font-weight: bold;\n    margin-bottom: 15px;\n`;\n_c3 = DisplayTimer;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Timer\");\n$RefreshReg$(_c2, \"CenterContainer\");\n$RefreshReg$(_c3, \"DisplayTimer\");","map":{"version":3,"names":["React","useEffect","useContext","Button","styled","CircularProgressWithLabel","redStyle","backgroundColor","border","normalStyle","styles","normal","red","Timer","props","context","exercise","interval","timer","timeIsActive","setInterval","setTimerState","time","clearInterval","getPercentage","squaresCount","timerStyle","timeToMsms","setTimer","object","Math","floor","squaresDone","squaresToGo","ms","secs","mins","toString","padStart","CenterContainer","div","DisplayTimer"],"sources":["C:/Users/user/Desktop/Chess-Knight-Exercises-main/src/components/Timer.js"],"sourcesContent":["import React, { useEffect, useContext } from 'react';\nimport { Button } from '@mui/material';\nimport styled from 'styled-components';\nimport CircularProgressWithLabel from './CircularProgressWithLabel';\n\n\nconst redStyle = {\n    backgroundColor: \"#769656\",\n    border:\"3px solid rgb(224 74 74)\",\n  };\n  \nconst normalStyle = {\n    backgroundColor: \"#262421\",\n    border:\"3px solid #262421\",\n\n}\n\nconst styles = {\n    normal: normalStyle,\n    red: redStyle,\n}\n  \n\nfunction Timer(props) {\n    const context = useContext(props.context);\n    const exercise = useContext(props.exercise);\n\n    useEffect(() => {\n        let interval = null;\n        if (context.timer.timeIsActive) {\n            interval = setInterval(() => {\n                context.setTimerState({...context.timer, time: context.timer.time + 100});\n            }, 100);\n        } else if (!context.timer.timeIsActive && context.timer.time !== 0) {\n            clearInterval(interval);\n        }\n        return () => clearInterval(interval);\n    }, [context, context.timer.timeIsActive, context.timer.time]);\n    \n\n    return (\n        <CircularProgressWithLabel value={getPercentage(exercise.squaresCount)}>\n            <CenterContainer style={styles[context.timerStyle]}>\n                <DisplayTimer>{timeToMsms(context.timer.time)}</DisplayTimer>\n                <Button variant=\"outlined\" onClick={() => context.setTimer(\"resetAll\")}>Перезагрузка</Button>\n            </CenterContainer>\n        </CircularProgressWithLabel>\n    );\n}\n\nfunction getPercentage(object) {\n    return Math.floor((object.squaresDone * 100) / object.squaresToGo);\n}\n\n\nfunction timeToMsms(time) {\n    // put ms in one digit\n    let ms = time % 1000;\n    time = (time - ms) / 1000;\n    let secs = time % 60;\n    let mins = (time - secs) / 60;\n    // fill with zeros\n    secs = secs.toString().padStart(2, '0');\n    if (time < 60){\n        return `${mins}:${secs}.${Math.floor(ms/100)}`;\n    }\n    return `${mins}:${secs}`;\n}\n\nexport default Timer;\n\n\n\nconst CenterContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 20px;\n    width: 123px;\n    height: 123px;\n    border-radius: 50%;\n`;\n\nconst DisplayTimer = styled.div`\n    font-size: 2em;\n    font-weight: bold;\n    margin-bottom: 15px;\n`;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}